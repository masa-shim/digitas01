<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPhoneæ“ä½œè¨ºæ–­</title>
    <style>
        /* ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®šï¼ˆå‰å›ã¨åŒã˜ï¼‰ */
        body { font-family: sans-serif; background-color: #f2f2f7; color: #1c1c1e; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { background-color: #ffffff; width: 90%; max-width: 400px; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); text-align: center; }
        h1 { font-size: 22px; color: #007aff; margin-bottom: 20px; }
        input, select { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #d1d1d6; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        label { display: block; text-align: left; margin-bottom: 5px; font-weight: bold; font-size: 14px; }
        .btn { display: block; width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; }
        .btn-primary { background-color: #007aff; color: white; }
        .btn-yes { background-color: #ff3b30; color: white; }
        .btn-no { background-color: #34c759; color: white; }
        .image-placeholder { width: 100%; height: 180px; background-color: #e5e5ea; border-radius: 10px; margin-bottom: 20px; overflow: hidden; display:flex; align-items:center; justify-content:center;}
        .image-placeholder img { width: 100%; height: 100%; object-fit: cover; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="container">
        <div id="entry-screen">
            <h1>ãŠå®¢æ§˜æƒ…å ±ã®å…¥åŠ›</h1>
            <p style="font-size:14px; color:#888;">è¨ºæ–­ã‚’å§‹ã‚ã‚‹å‰ã«ã€ã”é€£çµ¡å…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
            <label>ãŠåå‰</label><input type="text" id="input-name">
            <label>é›»è©±ç•ªå·</label><input type="tel" id="input-phone">
            <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label><input type="email" id="input-email">
            <label>éƒ½é“åºœçœŒ</label>
            <select id="input-pref">
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option value="1">åŒ—æµ·é“</option>
                <option value="2">é’æ£®çœŒ</option>
                <option value="3">å²©æ‰‹çœŒ</option>
                <option value="4">å®®åŸçœŒ</option>
                <option value="5">ç§‹ç”°çœŒ</option>
                <option value="6">å±±å½¢çœŒ</option>
                <option value="7">ç¦å³¶çœŒ</option>
                <option value="8">èŒ¨åŸçœŒ</option>
                <option value="9">æ ƒæœ¨çœŒ</option>
                <option value="10">ç¾¤é¦¬çœŒ</option>
                <option value="11">åŸ¼ç‰çœŒ</option>
                <option value="12">åƒè‘‰çœŒ</option>
                <option value="13">æ±äº¬éƒ½</option>
                <option value="14">ç¥å¥ˆå·çœŒ</option>
                <option value="15">æ–°æ½ŸçœŒ</option>
                <option value="16">å¯Œå±±çœŒ</option>
                <option value="17">çŸ³å·çœŒ</option>
                <option value="18">ç¦äº•çœŒ</option>
                <option value="19">å±±æ¢¨çœŒ</option>
                <option value="20">é•·é‡çœŒ</option>
                <option value="21">å²é˜œçœŒ</option>
                <option value="22">é™å²¡çœŒ</option>
                <option value="23">æ„›çŸ¥çœŒ</option>
                <option value="24">ä¸‰é‡çœŒ</option>
  <option value="25">æ»‹è³€çœŒ</option>
  <option value="26">äº¬éƒ½åºœ</option>
  <option value="27">å¤§é˜ªåºœ</option>
  <option value="28">å…µåº«çœŒ</option>
  <option value="29">å¥ˆè‰¯çœŒ</option>
  <option value="30">å’Œæ­Œå±±çœŒ</option>
  <option value="31">é³¥å–çœŒ</option>
  <option value="32">å³¶æ ¹çœŒ</option>
  <option value="33">å²¡å±±çœŒ</option>
  <option value="34">åºƒå³¶çœŒ</option>
  <option value="35">å±±å£çœŒ</option>
  <option value="36">å¾³å³¶çœŒ</option>
  <option value="37">é¦™å·çœŒ</option>
  <option value="38">æ„›åª›çœŒ</option>
  <option value="39">é«˜çŸ¥çœŒ</option>
  <option value="40">ç¦å²¡çœŒ</option>
  <option value="41">ä½è³€çœŒ</option>
  <option value="42">é•·å´çœŒ</option>
  <option value="43">ç†Šæœ¬çœŒ</option>
  <option value="44">å¤§åˆ†çœŒ</option>
  <option value="45">å®®å´çœŒ</option>
  <option value="46">é¹¿å…å³¶çœŒ</option>
  <option value="47">æ²–ç¸„çœŒ</option>
            </select>
            <button class="btn btn-primary" onclick="validateAndStart()">æ¬¡ã¸é€²ã‚€</button>
        </div>

        <div id="start-screen" class="hidden">
            <div class="image-placeholder"><img src="fst.png" alt=""></div>
            <h1>iPhoneæ“ä½œè¨ºæ–­</h1>
            <p>ã‚ˆã†ã“ãã€<span id="user-name-display" style="font-weight:bold; color:#007aff;"></span> æ§˜ã€‚</p>
            <button class="btn btn-primary" onclick="startQuiz()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
        </div>

        <div id="question-screen" class="hidden">
            <p id="question-number">è³ªå• 1</p>
            <h2 id="question-text">è³ªå•</h2>
            <button class="btn btn-yes" onclick="answer(true)">Yes</button>
            <button class="btn btn-no" onclick="answer(false)">No</button>
        </div>

        <div id="result-screen" class="hidden">
            <div class="image-placeholder"><img id="result-image" src="" alt=""></div>
            <h1 id="result-title">è¨ºæ–­çµæœ</h1>
            <p id="result-text" style="text-align: left;"></p>
            <p id="sending-msg" style="font-size:12px; color:#888; margin-top:20px;">ãƒ‡ãƒ¼ã‚¿é€ä¿¡ä¸­...</p>
        </div>
    </div>

    <script>
        // â˜…â˜…â˜… ã“ã“ã ã‘æ›¸ãæ›ãˆã¦ãã ã•ã„ï¼ â˜…â˜…â˜…
        // ã‚¹ãƒ†ãƒƒãƒ—1ã§ã‚³ãƒ”ãƒ¼ã—ãŸURLã‚’ã€ä¸‹ã®ã€Œ""ã€ã®ä¸­ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„
        const FORMSPREE_URL = "https://formspree.io/f/xblqlblz"; 
        // â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…

        const questions = [
            "iPhoneã«å¯¾ã—å…¨èˆ¬çš„ã«è‹¦æ‰‹æ„è­˜ãŒå¼·ã„ã€‚",
            "ãƒãƒƒãƒˆã§èª¿ã¹ã‚‹æ©Ÿä¼šãŒå°‘ãªã„ã€‚",
            "ãƒãƒƒãƒˆã§ã®äºˆç´„ã€æ‰‹ç¶šãã€è²·ã„ç‰©ãªã©ã†ã¾ãã§ããªã„ã€‚",
            "å›°ã£ãŸæ™‚ã«ã©ã“ã«å•ã„åˆã‚ã›ãŸã‚‰ã„ã„ã‹ã‚ã‹ã‚‰ãªã„ã€‚",
            "æ§˜ã€…ãªIDã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç®¡ç†ã—ã¦ã„ãªã„ã€‚",
            "ã€Œèªè¨¼ã€ãŒã‚ˆãã‚ã‹ã‚‰ãªã„ã€‚",
            "iPhoneã§ä½•ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã‹ã‚ˆãã‚ã‹ã‚‰ãªã„ã€‚",
            "ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ã¨ã‚Šæ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã„ã€‚",
            "2æ®µéšèªè¨¼ãŒã‚ˆãã‚ã‹ã‚‰ãªã„ã€‚",
            "ã€Œã‚¦ã‚£ãƒ«ã‚¹ã«æ„ŸæŸ“ã€ã®ã‚ˆã†ãªè¡¨ç¤ºãŒå‡ºã‚‹ã¨ä¸å®‰ã«ãªã‚‹ã€‚"
        ];

        let currentQuestionIndex = 0;
        let yesCount = 0;
        let userData = {};

        function validateAndStart() {
            const name = document.getElementById('input-name').value;
            const phone = document.getElementById('input-phone').value;
            const email = document.getElementById('input-email').value;
            const pref = document.getElementById('input-pref').value;

            if(name === "" || phone === "" || pref === "") {
                alert("ãŠåå‰ã€é›»è©±ç•ªå·ã€éƒ½é“åºœçœŒã¯å¿…é ˆã§ã™ã€‚");
                return;
            }
            userData = { name, phone, email, pref };
            document.getElementById('user-name-display').innerText = name;
            document.getElementById('entry-screen').classList.add('hidden');
            document.getElementById('start-screen').classList.remove('hidden');
        }

        function startQuiz() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('question-screen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            document.getElementById('question-number').innerText = `è³ªå• ${currentQuestionIndex + 1} / ${questions.length}`;
            document.getElementById('question-text').innerText = questions[currentQuestionIndex];
        }

        function answer(isYes) {
            if (isYes) yesCount++;
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('question-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            let title, text, imageUrl, resultType;
            if (yesCount >= 6) {
                resultType = "è¦æƒ…å ±ä»‹è­·";
                title = "âš ï¸ è¦æƒ…å ±ä»‹è­·ã§ã™";
                text = "æ™®æ®µä½¿ã†ä¸­ã§å›°ã‚‹å ´é¢ãŒå¤šã„ã¨æ€ã‚ã‚Œã¾ã™ã€‚\nã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ä¸å¯ã€ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ã€è©æ¬ºè¢«å®³ãªã©ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚";
                imageUrl = "https://via.placeholder.com/400x200/ff3b30/ffffff?text=DANGER"; 
            } else if (yesCount >= 3) {
                resultType = "è¦æƒ…å ±ä»‹è­·äºˆå‚™è»";
                title = "ğŸ¤” è¦æƒ…å ±ä»‹è­·äºˆå‚™è»ã§ã™";
                text = "æ™®æ®µã¯å•é¡Œãªãåˆ©ç”¨ã§ãã¦ã„ã¦ã‚‚ã€çªç™ºçš„ãªãƒˆãƒ©ãƒ–ãƒ«ãŒèµ·ã“ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚";
                imageUrl = "https://via.placeholder.com/400x200/ffcc00/ffffff?text=WARNING";
            } else {
                resultType = "ãƒˆãƒ©ãƒ–ãƒ«å°‘ãªã‚";
                title = "âœ¨ ãƒˆãƒ©ãƒ–ãƒ«ã¯å°‘ãªã„ã§ã—ã‚‡ã†";
                text = "iPhoneã‚’åˆ©ç”¨ã™ã‚‹ä¸­ã§ãƒˆãƒ©ãƒ–ãƒ«ã¯å°‘ãªã„ã§ã—ã‚‡ã†ã€‚\nè‹¦æ‰‹ãªéƒ¨åˆ†ã‚’æ˜ç¢ºã«ã™ã‚Œã°ä»Šå¾Œã‚‚å•é¡Œãªãåˆ©ç”¨ã§ãã¾ã™ã€‚";
                imageUrl = "https://via.placeholder.com/400x200/34c759/ffffff?text=EXCELLENT";
            }

            document.getElementById('result-title').innerText = title;
            document.getElementById('result-text').innerText = text;
            document.getElementById('result-image').src = imageUrl;

            sendDataToFormspree(resultType);
        }

        function sendDataToFormspree(resultType) {
            // Formspreeã«é€ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
            const data = {
                ãŠåå‰: userData.name,
                é›»è©±ç•ªå·: userData.phone,
                ãƒ¡ãƒ¼ãƒ«: userData.email,
                éƒ½é“åºœçœŒ: userData.pref,
                è¨ºæ–­çµæœã‚¿ã‚¤ãƒ—: resultType,
                Yesã®æ•°: yesCount
            };

            fetch(FORMSPREE_URL, {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (response.ok) {
                    document.getElementById('sending-msg').innerText = "âœ… ãƒ‡ãƒ¼ã‚¿é€ä¿¡å®Œäº†ï¼ˆæ‹…å½“è€…ã«é€šçŸ¥ã•ã‚Œã¾ã—ãŸï¼‰";
                } else {
                    document.getElementById('sending-msg').innerText = "âŒ é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ";
                }
            })
            .catch(error => {
                document.getElementById('sending-msg').innerText = "âŒ é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ";
            });
        }
    </script>
</body>

</html>

